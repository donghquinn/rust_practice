# [소유권](https://rinthel.github.io/rust-lang-book-ko/ch04-01-what-is-ownership.html)
- RUST의 핵심 기능
- 기존의 프로그래밍 언어들은 메모리 관리에 애를 먹는다.
    - 더 이상 사용하지 않는 메모리를 찾는 가비지 콜렉션을 가지고 있다.
    - 메모리를 할당하고 해제시켜야 한다.
- 러스트는 소유권 시스템을 통해 메모리를 관리한다.

## 소유권 규칙
- 러스트에서 각각의 값은 해당 값의 오너(owner)라 불리는 변수를 가지고 있다.
- 한번에 딱 하나의 오너만 존재 가능.
- 오너가 스코프 밖으로 벗어날 때, 값은 버려진다.


## 더블 콜론(::)
- 어떤 타입의 아래에 어떤 함수를 지정할 때 사용하는 네임 스페이스 연산자.
- 쉽게 말하자면 어떤 클래스(라이브러리, 패키지 등 mod)의 메서드를 호출하는 연산자처럼 이해하는게 빠르다.
```
    let s = String::from("Hello");
```

## 메모리와 할당
- 기본적으로는 컴파일 중에 문자열의 크기를 알기 때문에, 최종 실행파일에 해당 문자열에 하드 코딩 되었다.
    - 그러나 이는 문자열이 변하지 않는다는 전제가 있을 때만 가능하다.
- 그러나 그 내용물과 크기를 알 수 없는 텍스트를 최종 실행 파일(바이너리 파일)에 넣을 수 없다.
- 따라서 컴파일 시에 알 수 없는 텍스트에 대해 어느 정도의 메모리를 할당받아 사용한다.
    1. 런타임에 운영체제로부터 메모리가 요청되어야 한다.
    2. 해당 내용물을 알 수 없었던 타입의 사용이 종료되었을 때, 메모리를 운영체제에 반납할 수 있어야 한다.
- 1번 메모리 요청은 String::from("Hello); 로 구현 가능하다.
- 2번은 다른 언어에서는 가비지 콜렉터가 수행한다.
    - 가비지 콜렉터가 없는 언어의 경우, 프로그래머가 직접 메모리를 할당하고 해제한다.
- RUST는 변수가 스코프 밖으로 벗어나는 순간( } 로 닫힐 때) 메모리를 반납한다.
    - 이렇게 스코프 밖으로 벗어날 때, 메모리 반납하는 함수를 drop함수라고 한다.
    - RUST는 스코프를 벗어날 때 drop 함수를 자동으로 불러온다.


```
    {                      // s는 유효하지 않습니다. 아직 선언이 안됐거든요.
        let s = "hello";   // s는 이 지점부터 유효합니다.

        // s를 가지고 뭔가 합니다.
    }                      // 이 스코프는 이제 끝이므로, s는 더이상 유효하지 않습니다.
```

